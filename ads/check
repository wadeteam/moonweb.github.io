var iframe = document.getElementById('moonds');
var fallbackUrl = 'https://moon-bot.eu/ads/error.png';
function checkIFrameVisibility() {
  var iframeRect = iframe.getBoundingClientRect();
  var elements = document.elementsFromPoint(iframeRect.x, iframeRect.y);
var isOverlapping = false;
  for (var i = 0; i < elements.length; i++) {
    var element = elements[i];
    if (element !== iframe && isElementOverlapping(element, iframe)) {
      isOverlapping = true;
      break;
    }
  }
var isVisible = isElementVisible(iframe);
if (isOverlapping || !isVisible) {
    iframe.src = fallbackUrl;
  }
}
function isElementOverlapping(element1, element2) {
  var rect1 = element1.getBoundingClientRect();
  var rect2 = element2.getBoundingClientRect();

  return !(
    rect1.right < rect2.left ||
    rect1.left > rect2.right ||
    rect1.bottom < rect2.top ||
    rect1.top > rect2.bottom
  );
}
function isElementVisible(element) {
  var rect = element.getBoundingClientRect();
  var viewHeight = Math.max(document.documentElement.clientHeight, window.innerHeight);
  return !(rect.bottom < 0 || rect.top - viewHeight >= 0);
}
window.addEventListener('load', checkIFrameVisibility);
window.addEventListener('resize', checkIFrameVisibility);
