function isElementOverlapping(element) {
  const rect1 = element.getBoundingClientRect();

  for (const el of document.elementsFromPoint(rect1.left, rect1.top)) {
    if (el !== element && el.getBoundingClientRect().right >= rect1.left &&
      el.getBoundingClientRect().left <= rect1.right &&
      el.getBoundingClientRect().bottom >= rect1.top &&
      el.getBoundingClientRect().top <= rect1.bottom) {
      return true;
    }
  }

  return false;
}

window.addEventListener('DOMContentLoaded', () => {
  const iframe = document.getElementById('moonds');

  iframe.onload = () => {
    setTimeout(() => {
      const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;
      const iframeBody = iframeDocument.body;

      if (isElementOverlapping(iframeBody)) {
        iframeDocument.documentElement.innerHTML = '<h1>The iframe is overlapped.</h1>';
      }
    }, 100);
  };
});
